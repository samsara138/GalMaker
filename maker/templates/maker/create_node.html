{% extends "maker/layout.html" %}
{% load static %}

{% block body %}
<input type="hidden" value="{{ game_obj.id }}" id="id-input">
<div class="main-table">
    <div style="height:40px">
        <h4 style="display:inline-block;" id="game-name-display">{{ game_obj.name }}</h4>
        <form id="edit-name-form" style="display:None;">
            <input id="edit-name-form-input" type="text">
            <input type="submit" style="visibility:hidden;" value="Edit">
        </form>
        <button class="link-button" style="display:inline-block;font-size:10px;" id="edit-game-name">
            edit
        </button>
        <button class="red-button" style="float:right;" id="delete-game-btn">
            Delete Game
        </button>
    </div>

    <p></p>

    <div style="width: 100%; overflow: hidden;">

        <!-- left -->
        <div style="width: 40%; float: left;" class="border-div">
            <ul style="padding-top: 10px" id="node-list"></ul>
        </div>

        <!-- right -->
        <div style="margin-left: 45%;" class="border-div">
            <h3>Node detail</h3>
            <form id="new-node-form" class="basic-form">
                <input type="hidden" id="node-id" value=-1>
                <div class="basic-form">
                    <label for="form-speaker" class="basic-form">Name: </label>
                    <input type="text" id="form-name" class="basic-form">
                </div>
                <div class="basic-form">
                    <label for="form-speaker" class="basic-form">Speaker: </label>
                    <input type="text" id="form-speaker" class="basic-form">
                </div>

                <p></p>

                <div class="basic-form">
                    <label for="form-text" class="basic-form">Text: </label>
                    <textarea id="form-text" class="basic-form"></textarea>
                </div>
                <div class="basic-form">
                    <label for="form-next" class="basic-form">Next: </label>
                    <input type="text" id="form-next" class="basic-form">
                </div>
            </form>

            <br>

            <div class="basic-form">
                <label for="form-Background" class="basic-form">Background: </label>
                <input type="file" id="form-Background" class="basic-form"
                       accept="image/png, image/jpeg">
                <div style="height:10px;display:none" id="form-background-current">
                    Current: <a style="display:inline-block" class="current"></a>
                    <input type="checkbox" style="display:inline-block" class="clear" id="test"> Clear
                </div>
            </div>

            <br>

            <div class="basic-form">
                <label for="form-left-character" class="basic-form">Left Character: </label>
                <input type="file" id="form-left-character" class="basic-form"
                       accept="image/png, image/jpeg">
                <div style="height:10px;display:none" id="form-left-char-current">
                    Current: <a style="display:inline-block" class="current"></a>
                    <input type="checkbox" style="display:inline-block" class="clear"> Clear
                </div>
                <p></p>
                <input type="checkbox" id="form-left-char-show"> Show no character

            </div>

            <br>

            <div class="basic-form">
                <label for="form-right-character" class="basic-form">Right Character: </label>
                <input type="file" id="form-right-character" class="basic-form"
                       accept="image/png, image/jpeg">
                <div style="height:10px;display:none" id="form-right-char-current">
                    Current: <a style="display:inline-block" class="current"></a>
                    <input type="checkbox" style="display:inline-block" class="clear"> Clear
                </div>
                <p></p>
                <input type="checkbox" id="form-right-char-show"> Show no character
            </div>

            <p></p>

            <b>Options: </b> <input id="form-has-option" type="checkbox" value="options">
            <div id="form-option" style="display:none;">
                <form class="basic-form">
                    <div style="display:table-caption;">
                        <button class="link-button" id="opa-req" onclick="return false;">
                            + Add requirement
                        </button>
                        <ul id="opa-req-ul" style="margin-bottom:-10px;"></ul>
                    </div>
                    <div class="basic-form">
                        <label for="form-oa" class="basic-form">Option A: </label>
                        <input type="text" id="form-oa" class="basic-form">
                    </div>

                    <div class="basic-form">
                        <label for="form-oa-next" class="basic-form">Option A Next: </label>
                        <input type="text" id="form-oa-next" class="basic-form">
                    </div>
                    <button class="link-button" id="opa-chg"
                            style="padding-top:20px; padding-bottom:-10px;" onclick="return false;">
                        + Add state change
                    </button>
                    <ul id="opa-chg-ul"></ul>


                    <button class="link-button" id="opb-req" onclick="return false;">
                        + Add requirement
                    </button>
                    <ul id="opb-req-ul" style="margin-bottom:-10px;"></ul>
                    <div class="basic-form">
                        <label for="form-ob" class="basic-form">Option B: </label>
                        <input type="text" id="form-ob" class="basic-form">
                    </div>

                    <div class="basic-form">
                        <label for="form-ob-next" class="basic-form">Option B Next: </label>
                        <input type="text" id="form-ob-next" class="basic-form">
                    </div>
                    <button class="link-button" id="opb-chg"
                            style="padding-top:20px; padding-bottom:-10px;" onclick="return false;">
                        + Add state change
                    </button>
                    <ul id="opb-chg-ul"></ul>
                </form>
            </div>
            <p></p>
            <div>
                <input id="submit-node-form" type="submit" value="Create Node">
                <input style="float:right" class="red-button" id="delete-note-btn" type="button" value="Delete Node">
            </div>

        </div>
    </div>

</div>
{% endblock %}

{% block script %}
<script src="{% static 'maker/nodes/create_node.js' %}" type="text/javascript"></script>
<script src="{% static 'maker/nodes/node_elements.js' %}" type="text/javascript"></script>
<script src="{% static 'maker/nodes/node_form_helper.js' %}" type="text/javascript"></script>
<script src="{% static 'maker/nodes/node_helper.js' %}" type="text/javascript"></script>
<script src="{% static 'maker/nodes/node_state.js' %}" type="text/javascript"></script>
<script src="{% static 'maker/game_helper.js' %}" type="text/javascript"></script>
{% endblock %}
